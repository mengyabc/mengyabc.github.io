(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"8cc063d46cc7c33fdc4d":function(e,t,a){"use strict";a.r(t);var n,o=a("8af190b70a6bc55c6f1b"),i=a.n(o),r=a("d7dd51e1bf6bfc2c9c3d"),s=a("ab4cb61bcb2dc161defb"),l=a("e95a63b25fb92ed15721"),c=a("d95b0cf107403b178365"),d=a("adc20f99e57c573c589c"),u=a("491cc2e27aa2b4221847"),p=a("813e0cc30ffbfa2fd57f"),f=a("f9f7134368a214ede562"),b=a("6938d226fd372a75cbf9"),m=a("6b0cd370e854fbdb6989"),h=a("041021065ead6515c7e1"),g=a("813abfae34ccd3916757");function v(e){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,a,o){n||(n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===r)t.children=o;else if(r>1){for(var l=new Array(r),c=0;c<r;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:n,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function w(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var C=y(l.Redirect,{to:"/sign-in"}),O=y(h.a,{}),j=y("h2",{className:"text-center p-4 mb-2"},void 0,"JustATip"),T=y("div",{className:"pt-1 mx-4 border-bottom "}),P=y(m.a,{name:"facebook",height:20,className:"pr-3"}),_=y(m.a,{name:"googleplus",height:28,className:"pr-3"}),F=y("div",{className:"px-4 text-center pt-4"},void 0,y(l.Link,{variant:"contained",to:"/sign-in",className:"text-light d-block mb-2"},void 0,"Already have an account? Sign in")),L=function(e){function t(e){var a,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=k(t).call(this,e),a=!o||"object"!==v(o)&&"function"!==typeof o?x(n):o,S(x(x(a)),"handleChanges",function(e){var t=e.target.id,n=e.target.value;a.setState(S({},t,n))}),S(x(x(a)),"signup",function(e){e.preventDefault();var t=a.state,n=t.email,o=t.password;n&&o?(a.setState({loading:!0}),a.props.signupUser({firstname:a.state.firstname,lastname:a.state.lastname,nickname:a.state.nickname,email:a.state.email,password:a.state.password,number:a.state.number})):(a.setState({alert:!0,alertType:"error",alertMessage:"Please fill in the form."}),a.dismissAlert=setTimeout(function(){a.setState({alert:!1})},1e3))}),S(x(x(a)),"googleLogin",function(){window.open("https://api.jtt.tiye.link/authenticate/google","_self")}),S(x(x(a)),"facebookLogin",function(){window.open("https://api.jtt.tiye.link/authenticate/facebook","_self")}),a.state={email:"",password:"",firstname:"",lastname:"",nickname:"",mobile:"",loading:!1,alert:!1,alertMessage:!1,alertType:!1,redirectToLogin:!1},a}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){var e=this.getNonceFromUrl(this.props.location);e&&this.props.authenticateSocialUser({nonce:e})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.authentication!==e.authentication){var a=200===this.props.authentication.status;this.setState({loading:!1,alert:!0,alertType:a?"success":"error",alertMessage:a?"Sign up successfully. Please log in...":"Sign up failed. Please try again."}),this.dismissAlert=setTimeout(function(){t.setState({alert:!1,redirectToLogin:a})},1e3)}}},{key:"getNonceFromUrl",value:function(e){if(e&&e.search){var t=e.search.replace(/^\?/,"");if(t){var a=t.split("=");return a?a.slice(-1)[0]:void 0}}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.dismissAlert)}},{key:"render",value:function(){var e=this.props,t=e.classes;e.authentication;return this.state.redirectToLogin?C:y("div",{className:"text-light p-3 vh-100"},void 0,this.state.loading?O:"",y(g.a,{alert:this.state.alert,type:this.state.alertType,message:this.state.alertMessage}),j,y("form",{className:"".concat(t.container," d-flex flex-column"),noValidate:!0,autoComplete:"off"},void 0,y("div",{className:"w-100"},void 0,y("input",{type:"text",id:"firstname",placeholder:"First Name *",required:!0,value:this.state.firstname,onChange:this.handleChanges,className:"".concat(t.textField," border rounded mb-2 w-100")})),y("div",{className:"w-100"},void 0,y("input",{type:"text",id:"lastname",placeholder:"Last Name *",required:!0,value:this.state.lastname,onChange:this.handleChanges,className:"".concat(t.textField," border rounded mb-2 w-100")})),y("div",{className:"w-100"},void 0,y("input",{type:"text",id:"nickname",placeholder:"Nickname",value:this.state.nickname,onChange:this.handleChanges,className:"".concat(t.textField," border rounded mb-2 w-100")})),y("div",{className:"w-100"},void 0,y("input",{type:"text",id:"email",placeholder:"Email*",required:!0,value:this.state.email,onChange:this.handleChanges,className:"".concat(t.textField," border rounded mb-2 w-100")})),y("div",{className:"w-100"},void 0,y("input",{id:"password",placeholder:"Password*",required:!0,value:this.state.password,onChange:this.handleChanges,type:"password",className:"".concat(t.textField," border rounded mb-2 w-100")})),y("div",{className:"w-100"},void 0,y("input",{type:"text",id:"mobile",placeholder:"Mobile *",required:!0,value:this.state.mobile,onChange:this.handleChanges,className:"".concat(t.textField," border rounded mb-2 w-100")})),y("input",{type:"submit",value:"Register",className:"".concat(t.register," btn btn-lg text-light w-100 mb-4"),onClick:this.signup})),T,y("div",{className:"p-2 text-uppercase mt-n3 w-25 text-center mx-auto mb-2",style:{backgroundColor:"var(--theme-bg)"}},void 0,"or"),y("div",{className:"d-flex px-4 mb-4"},void 0,y("div",{className:"w-50 pr-2 text-primary"},void 0,y("button",{onClick:this.facebookLogin,className:"".concat(t.button," btn btn-primary w-100 text-left"),style:{backgroundColor:"var(--facebook-blue)",borderColor:"var(--facebook-blue)"}},void 0,P,y("span",{className:"pl-3 border-left font-weight-bold d-inline-block",style:{lineHeight:"1.8"}},void 0,"Sign In"))),y("div",{className:"w-50 pl-2"},void 0,y("button",{onClick:this.googleLogin,className:"".concat(t.button," btn bg-light w-100 text-left"),style:{color:"var(--google-red)"}},void 0,_,y("span",{className:"pl-3 border-left border-danger font-weight-bold d-inline-block",style:{lineHeight:"1.8"}},void 0,"Sign In")))),F)}}])&&w(a.prototype,n),o&&w(a,o),t}();var U=Object(c.a)({key:"app",reducer:u.b}),A=Object(d.a)({key:"app",saga:f.a}),M=Object(r.connect)(function(e){return{authentication:e.get("app").get("authentication")}},function(e){return{signupUser:function(t){return e(Object(p.A)(t))},authenticateSocialUser:function(t){return e(Object(p.p)(t))}}});t.default=Object(s.compose)(U,A,M,Object(b.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap",padding:"0 1.5rem"},textField:{height:"3rem",padding:"0.5rem 1rem"},button:{height:"3rem"},register:{"background-color":"#d24d57"}}}))(L)}}]);