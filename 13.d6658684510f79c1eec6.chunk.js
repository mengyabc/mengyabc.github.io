(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"29fc8ea5db601db2c7fd":function(e,t,n){"use strict";n.r(t);var a,o=n("8af190b70a6bc55c6f1b"),r=n.n(o),i=n("d7dd51e1bf6bfc2c9c3d"),s=n("ab4cb61bcb2dc161defb"),l=n("e95a63b25fb92ed15721"),p=n("d95b0cf107403b178365"),u=n("adc20f99e57c573c589c"),c=n("491cc2e27aa2b4221847"),d=n("813e0cc30ffbfa2fd57f"),f=n("f9f7134368a214ede562"),m=n("6938d226fd372a75cbf9"),h=(n("6b0cd370e854fbdb6989"),n("041021065ead6515c7e1")),b=n("813abfae34ccd3916757");function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,n,o){a||(a="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),p=0;p<i;p++)l[p]=arguments[p+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=y(l.Redirect,{to:"/sign-in"}),P=y(h.a,{}),S=y("strong",{},void 0,"ARE YOU SURE TO LOG OUT ?"),N=function(e){function t(e){var n,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,o=w(t).call(this,e),n=!o||"object"!==g(o)&&"function"!==typeof o?x(a):o,C(x(x(n)),"togglePopup",function(e){e.preventDefault(),n.setState({showPopup:!0})}),C(x(x(n)),"closePopup",function(e){e.preventDefault(),n.setState({showPopup:!1})}),C(x(x(n)),"logOut",function(e){e.preventDefault(),document.cookie="token=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",n.setState({redirectToSignIn:!0})}),C(x(x(n)),"handleInputChange",function(e){var t=e.target.name,a=e.target.value;n.setState(C({},t,a))}),C(x(x(n)),"updateProfile",function(e){e.preventDefault(),n.setState({loading:!0}),n.props.updateUserProfile({firstname:n.state.firstname,lastname:n.state.lastname,nickname:n.state.nickname,email:n.state.email,password:n.state.password,number:n.state.number,token:document.cookie.split(";").filter(function(e){return 0==e.trim().indexOf("token=")})[0].slice(7,-1)})}),n.state={firstname:"",lastname:"",username:"",email:"",password:"",number:"",loading:!0,showPopup:!1,redirectToSignIn:!1},n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r.a.PureComponent),n=t,(a=[{key:"componentDidMount",value:function(){var e=document.cookie.split(";").filter(function(e){return 0==e.trim().indexOf("token=")})[0].slice(7,-1);this.props.getUserProfile({token:e})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.profile!==e.profile&&(200===this.props.profile.status?this.setState({loading:!1,firstname:this.props.profile.data.name_first||"",lastname:this.props.profile.data.name_last||"",nickname:this.props.profile.data.name_nick||"",email:this.props.profile.data.email||"",password:this.props.profile.data.password||"",number:this.props.profile.data.number||""}):(this.setState({loading:!1,alert:!0,alertType:"error",alertMessage:"Could not load/update your profile. Please try again."}),this.dismissAlert=setTimeout(function(){t.setState({alert:!1})},1e3)))}},{key:"render",value:function(){var e=this.props.classes;return this.state.redirectToSignIn?O:y("div",{className:e.root},void 0,this.state.loading?P:"",y(b.a,{alert:this.state.alert,type:this.state.alertType,message:this.state.alertMessage}),y("div",{className:e.avatar}),y("form",{},void 0,y("input",{type:"text",name:"firstname",placeholder:"First Name",value:this.state.firstname,onChange:this.handleInputChange,className:e.input}),y("input",{type:"text",name:"lastname",placeholder:"Last Name",value:this.state.lastname,onChange:this.handleInputChange,className:e.input}),y("input",{type:"text",name:"username",placeholder:"Nick Name",value:this.state.username,onChange:this.handleInputChange,className:e.input}),y("input",{type:"text",name:"email",placeholder:"Email Adress",value:this.state.email,onChange:this.handleInputChange,className:e.input,style:{color:"#5d656f",cursor:"no-drop"},disabled:!0}),y("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleInputChange,className:e.input}),y("input",{type:"text",name:"number",placeholder:"Phone Number",value:this.state.number,onChange:this.handleInputChange,className:e.input})),y("button",{className:e.updateBtn,onClick:this.updateProfile},void 0,"Update"),y("button",{className:e.logoutBtn,onClick:this.togglePopup},void 0,"Log Out"),this.state.showPopup?y("div",{className:e.modal,onClick:this.closePopup},void 0,y("div",{className:e.modalConent,onClick:function(e){return e.stopPropagation()}},void 0,y("div",{className:e.modalConentText},void 0,S),y("button",{className:e.modalBtn,onClick:this.logOut},void 0," YES"))):null)}}])&&v(n.prototype,a),o&&v(n,o),t}();var T=Object(p.a)({key:"app",reducer:c.b}),j=Object(u.a)({key:"app",saga:f.a}),_=Object(i.connect)(function(e){return{profile:e.get("app").get("profile")}},function(e){return{getUserProfile:function(t){return e(Object(d.x)(t))},updateUserProfile:function(t){return e(Object(d.B)(t))}}});t.default=Object(s.compose)(T,j,_,Object(m.withStyles)({root:{padding:"0 32px"},avatar:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:"pink",margin:"50px auto"},input:{display:"block",width:"100%",height:"35px",padding:"24px",margin:"12px 0",border:"1px solid #5d656f",borderRadius:"4px","&:focus":{outline:"none"}},updateBtn:{display:"block",width:"100%",padding:"15px 0",backgroundColor:"#ff6a6a",borderRadius:"4px",marginTop:"32px",fontWeight:"600","&:focus":{outline:"none"}},logoutBtn:{display:"block",width:"100%",padding:"15px 0",backgroundColor:"#B0B0B0",borderRadius:"4px",marginTop:"30px",fontWeight:"600"},modal:{position:"fixed",zIndex:"1",height:"100%",width:"420px",left:"50%",top:"50%",transform:"translate(-50%, -50%)",overflow:"hidden",backgroundColor:"rgba(0,0,0,0.7)"},modalConent:{position:"fixed",backgroundColor:"#ff6a6a",left:"50%",top:"50%",borderRadius:"10px",transform:"translate(-50%, -50%)",height:"15%",width:"80%",overflow:"hidden"},modalConentText:{alignSelf:"center",justifyContent:"center",color:"white",padding:"7%",textAlign:"center",fontSize:"18px"},modalBtn:{display:"block",borderRadius:"4px",fontWeight:"600",marginLeft:"auto",marginRight:"auto",marginTop:"15px",transform:"translate(-50%, -50%)"}}))(N)}}]);